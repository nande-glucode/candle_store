<div class="min-h-screen bg-gradient-to-br from-nude-100 to-cream-200 py-8">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-brown-800">Your Cart</h1>
      <p class="text-brown-600 mt-2">Review your items before checkout</p>
    </div>

    <% if @cart_items.any? %>
      <!-- Cart Items -->
      <div class="bg-cream-100/80 backdrop-blur-sm rounded-xl shadow-lg border border-brown-300 overflow-hidden mb-8">
        <% @cart_items.each do |cart_item| %>
          <div class="p-6 border-b border-brown-200 last:border-b-0">
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-6">
                <!-- Product Image -->
                <div class="flex-shrink-0">
                  <% if cart_item.product.primary_image %>
                    <div class="h-20 w-20 bg-gradient-to-br from-nude-200 to-cream-300 rounded-lg overflow-hidden border-2 border-brown-300">
                      <img src="<%= url_for(cart_item.product.primary_image) %>" 
                           alt="<%= cart_item.product.name %>"
                           class="h-full w-full object-cover">
                    </div>
                  <% else %>
                    <div class="h-20 w-20 bg-gradient-to-br from-nude-200 to-cream-300 rounded-lg flex items-center justify-center border-2 border-brown-300">
                      <div class="w-6 h-8 bg-brown-600 rounded-sm relative">
                        <div class="w-1.5 h-1.5 bg-cream-100 rounded-full absolute top-1 left-2"></div>
                      </div>
                    </div>
                  <% end %>
                </div>

                <!-- Product Details -->
                <div>
                  <h3 class="text-lg font-semibold text-brown-800"><%= cart_item.product.name %></h3>
                  <p class="text-brown-600 text-sm"><%= cart_item.product.category.titleize %></p>
                  <p class="text-brown-800 font-medium"><%= cart_item.product.formatted_price %> each</p>
                </div>
              </div>

              <!-- Quantity and Actions -->
              <div class="flex items-center space-x-4">
                <%= form_with model: cart_item, local: true, class: "flex items-center space-x-2" do |f| %>
                  <%= f.number_field :quantity, 
                      value: cart_item.quantity, 
                      min: 1, 
                      class: "w-16 px-2 py-1 border-2 border-brown-300 rounded-lg text-center font-medium text-brown-800" %>
                  <%= f.submit "Update", class: "bg-brown-600 text-cream-100 hover:bg-brown-700 px-3 py-1 rounded-lg text-sm font-medium transition-colors duration-200" %>
                <% end %>

                <div class="text-lg font-bold text-brown-800">
                  <%= number_to_currency(cart_item.total_price, unit: "R", separator: ".", delimiter: ",") %>
                </div>

                <%= link_to cart_item_path(cart_item), 
                    data: { "turbo-method": :delete, confirm: "Remove this item from cart?" },
                    class: "text-red-600 hover:text-red-800 font-medium text-sm" do %>
                    Remove
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>

      <!-- Cart Total -->
      <div class="bg-brown-600 text-cream-100 rounded-xl p-6 shadow-lg">
        <div class="flex justify-between items-center text-xl font-bold">
          <span>Total:</span>
          <span><%= number_to_currency(@cart_total, unit: "R", separator: ".", delimiter: ",") %></span>
        </div>
        <div class="mt-4 flex space-x-4">
          <%= link_to checkout_path, class: "flex-1 bg-cream-100 text-brown-800 hover:bg-cream-200 py-3 px-6 rounded-lg font-semibold transition-all duration-200" do %>
            Proceed to Demo Checkout
          <% end %>
          <%= link_to products_path, class: "bg-brown-200 text-brown-800 hover:bg-brown-300 py-3 px-6 rounded-lg font-medium transition-all duration-200" do %>
            Continue Shopping
          <% end %>
        </div>
      </div>

    <% else %>
      <!-- Empty Cart -->
      <div class="text-center py-16">
        <div class="w-24 h-32 bg-brown-600/20 rounded-xl flex items-center justify-center mb-6 mx-auto border-2 border-brown-400">
          <div class="w-12 h-16 bg-brown-600 rounded-lg relative shadow-lg">
            <div class="w-3 h-3 bg-cream-100 rounded-full absolute top-2 left-4.5"></div>
          </div>
        </div>
        <h3 class="text-xl font-semibold text-brown-800 mb-2">Your cart is empty</h3>
        <p class="text-brown-600 mb-8">Discover our beautiful candles and add some to your cart</p>
        <%= link_to products_path, class: "bg-brown-700 text-cream-100 hover:bg-brown-800 px-6 py-3 rounded-lg font-semibold transition-all duration-200 inline-flex items-center shadow-lg hover:shadow-xl" do %>
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
          Start Shopping
        <% end %>
      </div>
    <% end %>
  </div>
</div>